# 项目报告



## 1 数据存储及优化对比

### 1.1 关系型数据库

#### 1.1.1 适用查询范围

关系型数据库在高效管理与查询结构化数据时表现良好，可以应对需要复杂查询与严格处理的场景，适用于好确保数据一致性与完整性的应用。

- 关系型数据库所管理的数据通常以表格形式存在，这类数据具有固定结构和明确字段定义，高度结构化。每一行代表一个记录，每列代表一种属性，这种清晰的数据组织方式使得关系型数据库能够高效地存储和检索信息。但是使用时需要定义好表与表中字段，数据结构固定不易调整。本次项目中由于需要进行存储优化，需要经常调整数据库结构，也因此需要更新或重新导入相关数据，在处理一些数据库表时较为麻烦。

- 关系型数据库在执行复杂的SQL查询方面表现出色，尤其是在涉及多个表之间的联接操作时。此外，关系型数据库还允许编写嵌套的子查询来实现复杂的业务逻辑，能够通过聚合函数对数据进行统计分析。配合上 GROUP BY 语句，还可以实现对数据的分组统计。这些功能可以较为灵活简单地完成数据分析等工作。

- 关系型数据库还提供了 ACID 事务特性，保证了数据的完整性与一致性。在进行复杂查询或事务处理时，可以确保数据结构的清晰性与可维护性。适合于金融交易、电子商务等对数据准确性和安全性有极高要求的领域，确保了即使在复杂的业务环境中也能保持数据的完整性和可靠性。

#### 1.1.2 存储优化工作

在本次项目中，我们通过对物理模型的反规范化、预聚合以及设置冗余存储等操作对存储进行了优化。

1. 星型模型

本次项目采用星型模型结构，在数据存储上我们通过引入一定的数据冗余，换取了更好的查询性能。通过围绕事实表 `Movie` 建立一系列的维度表，将 `Movie` 的属性拆分到不同维度表中，简化了查询的复杂度，优化了查询的性能。

2. 字段设置

在 `Review` 表中，我们将记录评论时间信息的 `time` 时间戳字段的类型设计为了 `bigint`，而不是常见的 `datetime` 类型。这一决策主要基于以下考量：
- **平台兼容性**：采用 `bigint` 类型确保了数据能在不同数据库系统与编程语言之间保持一致性与互操作性。
- **空间效率**：相较于 `datetime` 类型，`bigint` 所需的存储空间更小，这对于规模较大的评论表 `Review` 而言尤为重要，能够有效降低存储成本。

而在 `Movie` 表中，我们将评分相关的 `imdb_score` 字段设计为了 `float` 类型，这样的选择主要出于如下考量：
- **节省资源**：相较与 `double` 类型，`float` 所占用的存储空间更小，有助于优化存储资源的利用。
- **精度适配**：考虑到电影评分并不需要较高的数值精度，`float` 类型足以满足需求，也可以避免不必要的复杂性。

3. 冗余存储

在电影表中，我们添加了 `review_num` 评论数量字段，通过添加这一冗余存储，避免在查询最受欢迎的演员组合时与评论表进行联接操作，从而提升查询性能。

此外我们将电影的发布时间单独抽象为一张表，将电影的发布时间拆分为多个字段，而不是直接存储电影发布时间的时间戳，这样在分别根据年、月、日查询电影时，可以减少对数据的处理，简化了操作流程，也提高了查询的性能。

4. 反规范化与预聚合
。。。
TODO：预聚合建立对应的表与存储过程

#### 1.1.3 优化前后对比

（选择一个比较的示例，可以是评论相关的，评论表规模较大，进行优化后效果可能更为显著）

### 1.2 分布式数据库
#### 1.2.1 适用查询范围
#### 1.2.2 存储优化工作
#### 1.2.3 优化前后对比



### 1.3 图数据库
#### 1.3.1 适用查询范围
#### 1.3.2 存储优化工作
#### 1.3.3 优化前后对比



## 2 数据质量保证
### 2.1 保证数据质量方法
### 2.2 数据质量影响因素



## 3 数据血缘使用场景



## 4 小组贡献度

| 学号    | 姓名   | 百分比 |
| ------- | ------ | ------ |
| 2253721 | 陈茁扬 | 25%    |
| 2254198 | 段子涛 | 25%    |
| 2251528 | 王浩然 | 25%    |
| 2253206 | 韩明洋 | 25%    |
